<!--signup.html-->
<!DOCTYPE html>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

<head>
    <meta charset="UTF-8">
</head>
<style>
    input {
        max-width: 460px;
    }

    .container {
        margin: 0 auto;
        width: 500px;
    }

    h1 {
        text-align: center;
    }

    .sub_button {
        display: flex;
        justify-content: center;
    }

    span {
        color: #ff0000;
    }
</style>

<body>
    <form method="post" action="/signup">
        <div class="container">
            <h1>회원가입</h1>
            <div class="form-group">
                <label for="loginId">아이디</label>
                <input type="text" class="form-control" id="loginId" name="loginId" placeholder="영문 소문자 + 숫자 (5~20자)"
                    maxlength="20" value="00">
                <span class="id_chk1" id="id_chk1" style="display: none;">필수 항목입니다.</span>
                <span class="id_chk2" id="id_chk2" style="display: none;">아이디는 5~20자이고, 영문 소문자와 숫자만 사용가능합니다.</span>
                <span class="id_chk3" id="id_chk3" style="display: none;">이미 존재하는 아이디 입니다.</span>
            </div>
            <div class="form-group">
                <label for="password">비밀번호</label>
                <input type="password" class="form-control" id="password" name="password"
                    placeholder="영문 + 숫자 + 특수문자(8~16자)" maxlength="16" value="00">
                <span class="pw_chk1" id="pw_chk1" style="display: none;">필수 항목입니다.</span>
                <span class="pw_chk2" id="pw_chk2" style="display: none;">비밀번호는 영문 대 소문자, 숫자, 특수문자를 사용한 8~16자만 가능합니다.</span>
            </div>
            <div class="form-group">
                <label for="more_password">비밀번호 재확인</label>
                <input type="password" class="form-control" id="more_password" name="more_password" maxlength="16"
                    value="00">
                <span class="pw_more_chk1" id="pw_more_chk1" style="display: none;">필수 항목입니다.</span>
                <span class="pw_more_chk1" id="pw_more_chk1" style="display: none;">비밀번호가 일치하지 않습니다</span>
            </div>
            <div class="form-group">
                <label for="nickname">닉네임</label>
                <input type="text" class="form-control" id="nickname" name="nickname" value="00">
                <span class="nick_chk1" id="nick_chk1" style="display: none;">필수 항목입니다.</span>
            </div>
            <div class="form-group">
                <label for="email">이메일</label>
                <input type="text" class="form-control" id="email" name="email" value="00">
                <span class="email_chk1" id="email_chk1" style="display: none;">필수 항목입니다.</span>
                <span class="email_chk2" id="email_chk2" style="display: none;">이메일 형식이 잘못되었습니다</span>
            </div>
            <div class="form-group">
                <label for="address">주소</label>
                <input type="text" class="form-control" id="address" name="address" value="00">
                <span class="addr_chk1" id="addr_chk1" style="display: none;">필수 항목입니다.</span>
            </div>
            <div class="form-group">
                <label for="profile">사용자 프로필(소개)</label>
                <input type="text" class="form-control" id="profile" name="profile" placeholder="본인을 소개하는 글을 간단하게 적어주세요"
                    value="00">
            </div>

            <!-- 접었다 펼쳤다 기능 추가 -->
            <div class="form-group">
                <label for="petName">애완동물 이름</label>
                <input type="text" class="form-control" id="petName" name="petName" value="00">
                <span class="petName_chk1" id="petName_chk1" style="display: none;">필수 항목입니다.</span>
            </div>
            <div class="form-group">
                <label for="petCategory">키우는 동물 카테고리</label>
                <input type="text" class="form-control" id="petCategory" name="petCategory" value="00">
                <span class="petCategory_chk1" id="petCategory_chk1" style="display: none;">필수 항목입니다.</span>
            </div>

            <!-- 접었다 펼쳤다 기능 추가 -->
            <!-- <div class="form-group">
            <label for="wantPet">추천받길 원하는 동물 종류 (최소 1가지 ~ 최대 3가지) </label>
            <input type="text" class="form-control" id="wantPet" name="wantPet" placeholder="사용자 이름" value="00">
            <span class="petCategory_chk1">필수 항목입니다.</span>
        </div>
        <div class="form-group">
            <label for="wantAddress">추천받길 원하는 동물 주소 (최소 1가지 ~ 최대 3가지)</label>
            <input type="text" class="form-control" id="wantAddress" name="wantAddress" placeholder="사용자 이름" value="00">
            <span class="petCategory_chk1">필수 항목입니다.</span>
        </div> -->
            <div class="sub_button">
                <button type="submit" class="btn btn-primary">가입 완료</button>
            </div>
        </div>
    </form>
</body>
<script type="text/javascript">

    var idCheck = false;
    var pwCheck = false;
    var pwMoreCheck = false;
    var nickCheck = false;
    var emailCheck = false;
    var addrCheck = false;
    var petNameCheck = false;
    var petCategoryCheck = false;

    jQuery(document).ready(function () {

        // 아이디 검증
        $("#loginId").on("focusout",
            function () {
                var reg = /^[a-zA-Z0-9]{5,20}$/ //
                var id = $("#loginId").val().replace(/ /g, "");
                alert("아이디 확인 : " + id);
                if (id == "") {
                    $("#id_chk1").css({
                        "display": "block"
                    });
                }
                else if (reg.test(id) == false) {
                    $("#id_chk2").css({
                        "display": "block"
                    });
                }
                else {
                    // 아이디 중복인지 확인하는 로직
                    // 줄일수 있는 방법 알아보기
                    $("#id_chk1").css({
                        "display": "none"
                    });
                    $("#id_chk2").css({
                        "display": "none"
                    });
                }
            }); //-> 포커스가 이벤트 대상 요소에서 입력 요소로 이동하면 frm_2의 배경을 분홍색으로 변경
        
        // 비밀번호
            $("#password").on("focusout",
            function () {
                // 2.비밀번호 확인 검사
                // 숫자/문자/특수문자/ 포함 형태의 8~15자리 이내의 암호 정규식 
                // 전체길이검사 /^.{8,16}$/
                // 숫자하나 반드시 포함 /\d/ 
                // 영문자 반드시 포함 /[a-zA-Z]/
                // 특수문자 반드시 포함  /[\*!&]/			
		        var reg = [/^.{8,16}$/, /\d/, /[a-zA-Z]/, /[\*!&]/];
                var pw = $("#password").val().replace(/ /g, "");
                alert("비밀번호 확인 : " + id);
                if (pw == "") {
                    $("#pw_chk1").css({
                        "display": "block"
                    });
                }
                else if (reg.test(pw) == false) {
                    $("#pw_chk2").css({
                        "display": "block"
                    });
                }
                else {
                    // 줄일수 있는 방법 알아보기
                    $("#pw_chk1").css({
                        "display": "none"
                    });
                    $("#id_chk2").css({
                        "pw_chk2": "none"
                    });
                }
            }); //-> 포커스가 이벤트 대상 요소에서 입력 요소로 이동하면 frm_2의 배경을 분홍색으로 변경

    });
    // $(function () {
    //     alert("오니?");
    //     $("#user_id_1 , #user_pw_1").on("focus",
    //         function () {
    //             $(this).css({
    //                 "background-color": "pink"
    //             });
    //         });
    //     $("user_id_1 , #user_pw_1").on("blur",
    //         function () {
    //             $(this).css({
    //                 "background-color": "#fff"
    //             });
    //         }); //->포커스가 입력요소로 이동하면 배경색을 분홍색으로 변경

    //     $("#frm_2").on("focusin",
    //         function () {
    //             $(this).css({
    //                 "background-color": "pink"
    //             });
    //         });
    // });
</script>

</html>